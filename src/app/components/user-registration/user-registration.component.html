<h4>User registration example</h4>
<form [formGroup]="form" class="d-flex flex-column">
    <mat-form-field>
        <mat-label>First Name</mat-label>
        <input
            matInput
            type="text"
            formControlName="givenName"
        />
        @if(form.get('givenName').invalid && form.get('givenName').touched) {
            <mat-error>
                First Name is required
            </mat-error>
        }
        </mat-form-field>

        <mat-form-field>
        <mat-label>Last Name</mat-label>
        <input
            matInput
            type="text"
            formControlName="surName"
        />
        @if(form.get('surName').invalid && form.get('surName').touched) {
            <mat-error>
                Last Name is required
            </mat-error>
        }
        </mat-form-field>

        <mat-form-field>
            <mat-label>Email</mat-label>
            <input
                matInput
                type="text"
                formControlName="email"
            />
            @if(form.get('email').invalid && form.get('email').touched) {
                <mat-error>
                    Email is missing or invalid
                </mat-error>
            }
            </mat-form-field>

            <mat-form-field>
                <mat-label>Password</mat-label>
                <input
                    matInput
                    type="password"
                    formControlName="password"
                />
                @if(form.get('password').invalid && form.get('password').touched) {
                    <mat-error>
                        Password is missing or invalid
                    </mat-error>
                }
                </mat-form-field>

                <mat-form-field>
                    <mat-label> Confirm Password </mat-label>
                    <input 
                    matInput
                    type="password"
                    formControlName="confirmPassword" />
                    @if (form.get('confirmPassword').hasError('passwordMismatch')) {
                        <mat-error>Passwords do not match</mat-error>
                    } @else {
                        @if(form.get('confirmPassword').invalid && form.get('confirmPassword').touched) {
                            <mat-error> Confirm Password missing or invalid</mat-error>
                        }
                    }
                </mat-form-field>
</form>

<button
    mat-raised-button
    color="primary"
    (click)="onSubmit(form.value)"
    [disabled]="form.invalid">
    Register
</button>


